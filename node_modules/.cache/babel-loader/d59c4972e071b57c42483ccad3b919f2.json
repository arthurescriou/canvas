{"ast":null,"code":"const FRICTION = 0.999;\n\nconst iterate = bound => coord => {\n  const dx = coord.x + 50 > bound.width || coord.x < 50 ? -coord.dx : coord.dx;\n  const dy = coord.y + 50 > bound.height || coord.y < 50 ? -coord.dy : coord.dy;\n  return {\n    x: coord.x + dx,\n    y: coord.y + dy,\n    dx,\n    dy\n  };\n};\n\nexport const step = state => ({ ...state,\n  pos: state.pos.map(iterate(state.size))\n});","map":{"version":3,"sources":["/Users/arthur.escriou/workspace/canvas/src/components/canvas/state.ts"],"names":["FRICTION","iterate","bound","coord","dx","x","width","dy","y","height","step","state","pos","map","size"],"mappings":"AAEA,MAAMA,QAAQ,GAAG,KAAjB;;AAGA,MAAMC,OAAO,GAAIC,KAAD,IAAkBC,KAAD,IAAkB;AACjD,QAAMC,EAAE,GAAGD,KAAK,CAACE,CAAN,GAAU,EAAV,GAAeH,KAAK,CAACI,KAArB,IAA8BH,KAAK,CAACE,CAAN,GAAU,EAAxC,GAA6C,CAACF,KAAK,CAACC,EAApD,GAAyDD,KAAK,CAACC,EAA1E;AACA,QAAMG,EAAE,GAAGJ,KAAK,CAACK,CAAN,GAAU,EAAV,GAAeN,KAAK,CAACO,MAArB,IAA+BN,KAAK,CAACK,CAAN,GAAU,EAAzC,GAA8C,CAACL,KAAK,CAACI,EAArD,GAA0DJ,KAAK,CAACI,EAA3E;AACA,SAAO;AACLF,IAAAA,CAAC,EAAEF,KAAK,CAACE,CAAN,GAAUD,EADR;AAELI,IAAAA,CAAC,EAAEL,KAAK,CAACK,CAAN,GAAUD,EAFR;AAGLH,IAAAA,EAHK;AAILG,IAAAA;AAJK,GAAP;AAMD,CATD;;AAWA,OAAO,MAAMG,IAAI,GAAIC,KAAD,KAAmB,EACrC,GAAGA,KADkC;AAErCC,EAAAA,GAAG,EAAED,KAAK,CAACC,GAAN,CAAUC,GAAV,CAAcZ,OAAO,CAACU,KAAK,CAACG,IAAP,CAArB;AAFgC,CAAnB,CAAb","sourcesContent":["type Coord = { x: number; y: number; dx: number; dy: number }\ntype Size = { height: number; width: number }\nconst FRICTION = 0.999\nexport type State = { pos: Array<Coord>; size: Size }\n\nconst iterate = (bound: Size) => (coord: Coord) => {\n  const dx = coord.x + 50 > bound.width || coord.x < 50 ? -coord.dx : coord.dx\n  const dy = coord.y + 50 > bound.height || coord.y < 50 ? -coord.dy : coord.dy\n  return {\n    x: coord.x + dx,\n    y: coord.y + dy,\n    dx,\n    dy,\n  }\n}\n\nexport const step = (state: State) => ({\n  ...state,\n  pos: state.pos.map(iterate(state.size)),\n})\n"]},"metadata":{},"sourceType":"module"}