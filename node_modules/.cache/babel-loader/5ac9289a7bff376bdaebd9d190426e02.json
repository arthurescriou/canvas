{"ast":null,"code":"import * as conf from './conf';\n\nconst iterate = bound => coord => {\n  const dx = (coord.x + 50 > bound.width || coord.x < 50 ? -coord.dx : coord.dx) * conf.FRICTION;\n  const dy = (coord.y + 50 > bound.height || coord.y < 50 ? -coord.dy : coord.dy) * conf.FRICTION;\n  return {\n    x: coord.x + dx,\n    y: coord.y + dy,\n    dx,\n    dy\n  };\n};\n\nexport const click = state => event => {\n  const {\n    offsetX,\n    offsetY\n  } = event;\n  console.log(offsetX, offsetY);\n  return state;\n};\nexport const step = state => ({ ...state,\n  pos: state.pos.map(iterate(state.size))\n});","map":{"version":3,"sources":["/Users/arthur.escriou/workspace/canvas/src/components/canvas/state.ts"],"names":["conf","iterate","bound","coord","dx","x","width","FRICTION","dy","y","height","click","state","event","offsetX","offsetY","console","log","step","pos","map","size"],"mappings":"AAAA,OAAO,KAAKA,IAAZ,MAAsB,QAAtB;;AAKA,MAAMC,OAAO,GAAIC,KAAD,IAAkBC,KAAD,IAAkB;AACjD,QAAMC,EAAE,GACN,CAACD,KAAK,CAACE,CAAN,GAAU,EAAV,GAAeH,KAAK,CAACI,KAArB,IAA8BH,KAAK,CAACE,CAAN,GAAU,EAAxC,GAA6C,CAACF,KAAK,CAACC,EAApD,GAAyDD,KAAK,CAACC,EAAhE,IACAJ,IAAI,CAACO,QAFP;AAGA,QAAMC,EAAE,GACN,CAACL,KAAK,CAACM,CAAN,GAAU,EAAV,GAAeP,KAAK,CAACQ,MAArB,IAA+BP,KAAK,CAACM,CAAN,GAAU,EAAzC,GAA8C,CAACN,KAAK,CAACK,EAArD,GAA0DL,KAAK,CAACK,EAAjE,IACAR,IAAI,CAACO,QAFP;AAGA,SAAO;AACLF,IAAAA,CAAC,EAAEF,KAAK,CAACE,CAAN,GAAUD,EADR;AAELK,IAAAA,CAAC,EAAEN,KAAK,CAACM,CAAN,GAAUD,EAFR;AAGLJ,IAAAA,EAHK;AAILI,IAAAA;AAJK,GAAP;AAMD,CAbD;;AAeA,OAAO,MAAMG,KAAK,GACfC,KAAD,IACCC,KAAD,IAAuB;AACrB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAuBF,KAA7B;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ,EAAqBC,OAArB;AACA,SAAOH,KAAP;AACD,CANI;AAQP,OAAO,MAAMM,IAAI,GAAIN,KAAD,KAAmB,EACrC,GAAGA,KADkC;AAErCO,EAAAA,GAAG,EAAEP,KAAK,CAACO,GAAN,CAAUC,GAAV,CAAcnB,OAAO,CAACW,KAAK,CAACS,IAAP,CAArB;AAFgC,CAAnB,CAAb","sourcesContent":["import * as conf from './conf'\ntype Coord = { x: number; y: number; dx: number; dy: number }\ntype Size = { height: number; width: number }\nexport type State = { pos: Array<Coord>; size: Size }\n\nconst iterate = (bound: Size) => (coord: Coord) => {\n  const dx =\n    (coord.x + 50 > bound.width || coord.x < 50 ? -coord.dx : coord.dx) *\n    conf.FRICTION\n  const dy =\n    (coord.y + 50 > bound.height || coord.y < 50 ? -coord.dy : coord.dy) *\n    conf.FRICTION\n  return {\n    x: coord.x + dx,\n    y: coord.y + dy,\n    dx,\n    dy,\n  }\n}\n\nexport const click =\n  (state: State) =>\n  (event: any): State => {\n    const { offsetX, offsetY } = event\n    console.log(offsetX, offsetY)\n    return state\n  }\n\nexport const step = (state: State) => ({\n  ...state,\n  pos: state.pos.map(iterate(state.size)),\n})\n"]},"metadata":{},"sourceType":"module"}